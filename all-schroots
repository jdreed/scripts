#!/bin/sh

# Usage: all-schroots [-A] PROGRAM ARGUMENTS

# Runs PROGRAM over each of the build schroots, like so:
#
#   PROGRAM SCHROOTNAME ARGUMENTS
#
# If -A is specified, only runs the program over one schroot per
# Debian/Ubuntu version.

if [ "$1" = "-A" ]; then

shift
prog=$1; shift
$prog sarge-i386-sbuild "$@"
$prog etch-amd64-sbuild "$@"
$prog lenny-amd64-sbuild "$@"
$prog dapper-amd64-sbuild "$@"
$prog edgy-amd64-sbuild "$@"
$prog feisty-amd64-sbuild "$@"
$prog gutsy-amd64-sbuild "$@"

else

prog=$1; shift
$prog sarge-i386-sbuild-source "$@"
$prog etch-i386-sbuild-source "$@"
$prog etch-amd64-sbuild-source "$@"
$prog lenny-i386-sbuild-source "$@"
$prog lenny-amd64-sbuild-source "$@"
$prog dapper-i386-sbuild-source "$@"
$prog dapper-amd64-sbuild-source "$@"
$prog edgy-i386-sbuild-source "$@"
$prog edgy-amd64-sbuild-source "$@"
$prog feisty-i386-sbuild-source "$@"
$prog feisty-amd64-sbuild-source "$@"
$prog gutsy-i386-sbuild-source "$@"
$prog gutsy-amd64-sbuild-source "$@"

fi
